<div class='tableofcontents'> </div><h1>Camera</h1>

<h2>Overview</h2>

<p>The Camera API provides access to the device camera(s). Use this API to give users the ability to take a photo via one of the cameras and return it to the application. Photos can either be stored on the device as an image file or returned as a DataURI object for storage and/or display. Optionally, image files also can be transfered to online storage using the Network API.</p>

<h2>Enabling the API</h2>

<p>There are two methods of enabling the Camera API:</p>

<ul>
<li>Include all &lsquo;ebapi&rsquo; modules</li>
<li>Include only the API modules you need</li>
</ul>


<p>Both methods are explained below.</p>

<p>Either way, the included files will be found in:
<code>/Enterprise Browser/JavaScript Files/Enterprise Browser</code>,
a directory on the computer that contains the Enterprise Browser installation.</p>

<h3>Include all JS API modules</h3>

<p>To include all JavaScript APIs, copy the <code>ebapi-modules.js</code> file to a location accessible by your app&rsquo;s files and include the JavaScript modules file in your app. For instance, to include the modules file in your <code>index.html</code>, copy the file to the same directory as your index.html and add the following line to the HEAD section of your index.html file:</p>

<pre name="code" class="html">&lt;script type="text/javascript" charset="utf-8" src="ebapi-modules.js"&gt;&lt;/script&gt;
</pre>

<blockquote><p>This will define the EB class within the page. <strong>Note that the path for this file is relative to the current page</strong> (index.html). Any page on which the modules are required will need to have the required .js file(s) included in this fashion.</p></blockquote>

<h3>Include only the modules you need</h3>

<p>To include individual APIs, you must first include the <code>ebapi.js</code> in your HTML, and then the additional required API file(s). For instance, to use the Camera API, add the following code to the HTML file(s). Again, this assumes that relevant API files have been copied to the same directory as the HTML.</p>

<pre name="code" class="html">&lt;script type="text/javascript" charset="utf-8" src="ebapi.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" charset="utf-8" src="eb.camera.js"&gt;&lt;/script&gt;
</pre>

<blockquote><p>In the code lines above, notice that <code>ebapi.js</code> is included first, followed by <code>eb.camera.js</code>, which is the Camera API for Enterprise Browser. <strong>This coding is required on each HTML page whenever an individual API will be called from that page</strong>.</p></blockquote>

<h2>Methods</h2>

<h3>capture()</h3>

<p>Capture the image and save it to a file.</p>

<h4>Parameters</h4>

<ul><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Callback</h4>

<p>Async Callback Returning Parameters: <span class='text-info'>HASH</span></p><ul><ul><li>status : <span class='text-info'>STRING</span><p>Whether or not the image was successfully captured. The returned string will be one of &lsquo;ok&rsquo; or &lsquo;error&rsquo;. </p></li><li>imageUri : <span class='text-info'>STRING</span><p>If the specified &lsquo;outputFormat&rsquo; was &lsquo;image&rsquo; then this field is the URI to the taken image stored on the device. If the specified &lsquo;outputFormat&rsquo; was &lsquo;dataUri&rsquo; then this field will be the image encoded as a Data URI, If the specified &lsquo;outputFormat&rsquo; was &lsquo;imagePath&rsquo; then this field will have the image path on the device. User can use image path to transfer image over http. </p></li><li>imageHeight : <span class='text-info'>INTEGER</span><p>The actual height of the image that was captured, this may differ from the requested height as the Camera will only support a finite resolutions. </p></li><li>imageWidth : <span class='text-info'>INTEGER</span><p>The actual width of the image that was captured, this may differ from the requested width as the Camera will only support a finite resolutions. </p></li><li>imageFormat : <span class='text-info'>STRING</span><p>The format in which the image was captured, either &lsquo;png&rsquo; or &lsquo;jpg&rsquo;. </p></li><li>message : <span class='text-info'>STRING</span><p>If the returned status is &lsquo;error&rsquo; then this field will contain more information on the error. </p></li></ul></ul></p>

<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>Void</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Instance Method: This method can be accessed via an instance object of this class:

<ul>
<li><code>myObject.capture()</code></li>
</ul>
</li>
<li>Default Instance: This method can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.capture()</code></li>
</ul>
</li>
</ul>


<h3>choosePicture(<span class="text-info">HASH</span> propertyMap)</h3>

<p>Choose a picture from the album.</p>

<h4>Parameters</h4>

<ul><li>propertyMap : <span class='text-info'>HASH</span> <span class='label label-info'>Optional</span><p>Provide a set of properties to configure an image, for example to specify the image size or color mode. In WM/CE,Android devices user can only specify the outputFormat in the property bag. Valid `properties` for this parameter are the properties available to this API module. Check the <a href='#api-camera?Properties'>property section</a> for applicable properties. Not providing properties to this function will use the Camera's default properties, or those previously set on the Camera instance.</p></li><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Callback</h4>

<p>Async Callback Returning Parameters: <span class='text-info'>HASH</span></p><ul><ul><li>status : <span class='text-info'>STRING</span><p>Whether or not the image was successfully chosen from the gallery. The returned string will be one of &lsquo;ok&rsquo;, &lsquo;cancel&rsquo; or &lsquo;error&rsquo;. </p></li><li>imageUri : <span class='text-info'>STRING</span><p>If the specified &lsquo;outputFormat&rsquo; was &lsquo;image&rsquo; then this field is the URI to the taken image stored on the device. If the specified &lsquo;outputFormat&rsquo; was &lsquo;dataUri&rsquo; then this field will be the image encoded as a Data URI, If the specified &lsquo;outputFormat&rsquo; was &lsquo;imagePath&rsquo; then this field will have the image path on the device. User can use image path to transfer image over http. Platforms:
Android, WM, CE </p></li><li>imageHeight : <span class='text-info'>INTEGER</span><p>The height of the image. </p></li><li>imageWidth : <span class='text-info'>INTEGER</span><p>The width of the image. </p></li><li>imageFormat : <span class='text-info'>STRING</span><p>The format of the image, either &lsquo;png&rsquo; or &lsquo;jpg&rsquo;. </p></li><li>message : <span class='text-info'>STRING</span><p>If the returned status is &lsquo;error&rsquo; then this field will contain more information on the error. To maintain backward compatibility WM and Android platforms provides message for cancel status as well. </p></li><li>image_uri : <span class='text-info'>STRING</span><p>If the specified &lsquo;outputFormat&rsquo; was &lsquo;image&rsquo; then this field is the URI to the taken image stored on the device. If the specified &lsquo;outputFormat&rsquo; was &lsquo;dataUri&rsquo; then this field will be the image encoded as a Data URI, If the specified &lsquo;outputFormat&rsquo; was &lsquo;imagePath&rsquo; then this field will have the image path on the device. User can use image path to transfer image over http. Platforms:
Android, WM, CE </p></li><li>image_height : <span class='text-info'>INTEGER</span><p>It is recommended to use imageHeight in preference to this parameter. </p></li><li>image_width : <span class='text-info'>INTEGER</span><p>It is recommended to use imageWidth in preference to this parameter. </p></li><li>image_format : <span class='text-info'>STRING</span><p>It is recommended to use imageFormat in preference to this parameter. </p></li></ul></ul></p>

<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>Void</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Class Method: This method can only be accessed via the API class object.

<ul>
<li><code>EB.Camera.choosePicture(<span class="text-info">HASH</span> propertyMap)</code></li>
</ul>
</li>
</ul>


<h3>copyImageToDeviceGallery(<span class="text-info">STRING</span> pathToImage)</h3>

<p>Save an image to the device gallery.</p>

<h4>Parameters</h4>

<ul><li>pathToImage : <span class='text-info'>STRING</span><p>The real path to the image that is to be saved in the device gallery. You need to use the RhoApplication method `expandDatabaseBlobFilePath` to have the real path, such as `Rho::RhoApplication::expandDatabaseBlobFilePath(img.image_uri)`. </p></li><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>Void</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Class Method: This method can only be accessed via the API class object.

<ul>
<li><code>EB.Camera.copyImageToDeviceGallery(<span class="text-info">STRING</span> pathToImage)</code></li>
</ul>
</li>
</ul>


<h3>enumerate()</h3>

<p>Returns the cameras present on your device, allowing you to access your device&rsquo;s front or back camera.</p>

<h4>Parameters</h4>

<ul><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Callback</h4>

<p>Async Callback Returning Parameters: <span class='text-info'>ARRAY</span></p><ul><ul><li>cameraArray : <span class='text-info'>SELF_INSTANCE: EB.Camera</span><p> </p></li></ul></ul></p>

<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>ARRAY : Array of objects.<ul><li>cameraArray : <span class='text-info'>SELF_INSTANCE: EB.Camera</span><p> </p></li></ul></li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Class Method: This method can only be accessed via the API class object.

<ul>
<li><code>EB.Camera.enumerate()</code></li>
</ul>
</li>
</ul>


<h3>getAllProperties()</h3>

<p>This method will return all of object/value pairs for the propertyNames of the API class.</p>

<h4>Parameters</h4>

<ul><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Callback</h4>

<p>Async Callback Returning Parameters: <span class='text-info'>HASH</span></p><ul><ul><li> : <span class='text-info'>STRING</span><p> </p></li></ul></ul></p>

<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>HASH : Map of all available properties<ul><li> : <span class='text-info'>STRING</span><p> </p></li></ul></li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Instance Method: This method can be accessed via an instance object of this class:

<ul>
<li><code>myObject.getAllProperties()</code></li>
</ul>
</li>
<li>Default Instance: This method can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.getAllProperties()</code></li>
</ul>
</li>
</ul>


<h3>getCameraByType(<span class="text-info">STRING</span> cameraType)</h3>

<p>Returns the camera of requested type if that camera exist &ndash; else return nil.</p>

<h4>Parameters</h4>

<ul><li>cameraType : <span class='text-info'>STRING</span><p>CameraType: 'back' or 'front' in the case of Android and 'color' or 'imager' in the case of WM, CE devices </p></li><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Callback</h4>

<p>Async Callback Returning Parameters: <span class='text-info'>SELF_INSTANCE</span></p><ul></ul></p>

<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>SELF_INSTANCE : Camera with requested type or nil if not requested type does not exist. Refer example section for more details.</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Class Method: This method can only be accessed via the API class object.

<ul>
<li><code>EB.Camera.getCameraByType(<span class="text-info">STRING</span> cameraType)</code></li>
</ul>
</li>
</ul>


<h3>getDefault()</h3>

<p>This method will return an object that represents the default instance of the API Class. For example Camera.getDefault will return a Camera object that represents the default camera.</p>

<h4>Parameters</h4>

<ul><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Callback</h4>

<p>Async Callback Returning Parameters: <span class='text-info'>SELF_INSTANCE</span></p><ul></ul></p>

<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>SELF_INSTANCE : Default object of Module.</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Class Method: This method can only be accessed via the API class object.

<ul>
<li><code>EB.Camera.getDefault()</code></li>
</ul>
</li>
</ul>


<h3>getProperties(<span class="text-info">ARRAY</span> arrayofNames)</h3>

<p>This method will return a set of object/value pairs for the list of the propertyName that is passed in. The propertyNames must be a valid property of the API class.</p>

<h4>Parameters</h4>

<ul><li>arrayofNames : <span class='text-info'>ARRAY</span><p>List of properties I want to know about </p></li><ul><li><i>Object</i> : <span class='text-info'>STRING</span><p> </p></li></ul><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Callback</h4>

<p>Async Callback Returning Parameters: <span class='text-info'>HASH</span></p><ul><ul><li> : <span class='text-info'>STRING</span><p> </p></li></ul></ul></p>

<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>HASH : Map of properties I want to know about<ul><li> : <span class='text-info'>STRING</span><p> </p></li></ul></li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Instance Method: This method can be accessed via an instance object of this class:

<ul>
<li><code>myObject.getProperties(<span class="text-info">ARRAY</span> arrayofNames)</code></li>
</ul>
</li>
<li>Default Instance: This method can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.getProperties(<span class="text-info">ARRAY</span> arrayofNames)</code></li>
</ul>
</li>
</ul>


<h3>getProperty(<span class="text-info">STRING</span> propertyName)</h3>

<p>This method will return the value of the propertyName that is passed in. The propertyName must be a valid property of the API class.</p>

<h4>Parameters</h4>

<ul><li>propertyName : <span class='text-info'>STRING</span><p>The property to return info about. </p></li><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Callback</h4>

<p>Async Callback Returning Parameters: <span class='text-info'>STRING</span></p><ul></ul></p>

<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>STRING : The property to return info about.</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Instance Method: This method can be accessed via an instance object of this class:

<ul>
<li><code>myObject.getProperty(<span class="text-info">STRING</span> propertyName)</code></li>
</ul>
</li>
<li>Default Instance: This method can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.getProperty(<span class="text-info">STRING</span> propertyName)</code></li>
</ul>
</li>
</ul>


<h3>hidePreview()</h3>

<p>Hides the preview opened by using showPreview.</p>

<h4>Parameters</h4>

<ul><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>Void</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Instance Method: This method can be accessed via an instance object of this class:

<ul>
<li><code>myObject.hidePreview()</code></li>
</ul>
</li>
<li>Default Instance: This method can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.hidePreview()</code></li>
</ul>
</li>
</ul>


<h3>setDefault(<span class="text-info">SELF_INSTANCE: EB.Camera</span> defaultInstance)</h3>

<p>This method allows you to set the attributes of the default object instance by passing in an object of the same class.</p>

<h4>Parameters</h4>

<ul><li>defaultInstance : <span class='text-info'>SELF_INSTANCE: EB.Camera</span><p>An instance object that is of the same class. </p></li><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>Void</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Class Method: This method can only be accessed via the API class object.

<ul>
<li><code>EB.Camera.setDefault(<span class="text-info">SELF_INSTANCE: EB.Camera</span> defaultInstance)</code></li>
</ul>
</li>
</ul>


<h3>setProperties(<span class="text-info">HASH</span> propertyMap)</h3>

<p>This method will set the values of a list of properties for the API class. The propertyName must be a valid property for the class and must also not be read only.</p>

<h4>Parameters</h4>

<ul><li>propertyMap : <span class='text-info'>HASH</span><p>Map of properties I want to set </p></li><ul><li><i>Object</i> : <span class='text-info'>STRING</span><p> </p></li></ul><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>Void</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Instance Method: This method can be accessed via an instance object of this class:

<ul>
<li><code>myObject.setProperties(<span class="text-info">HASH</span> propertyMap)</code></li>
</ul>
</li>
<li>Default Instance: This method can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.setProperties(<span class="text-info">HASH</span> propertyMap)</code></li>
</ul>
</li>
</ul>


<h3>setProperty(<span class="text-info">STRING</span> propertyName, <span class="text-info">STRING</span> propertyValue)</h3>

<p>This method will set the value of a property for the API class. The propertyName must be a valid property for the class and must also not be read only.</p>

<h4>Parameters</h4>

<ul><li>propertyName : <span class='text-info'>STRING</span><p>The one property name that I want to set </p></li><li>propertyValue : <span class='text-info'>STRING</span><p>The one property value that I want to set </p></li><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>Void</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Instance Method: This method can be accessed via an instance object of this class:

<ul>
<li><code>myObject.setProperty(<span class="text-info">STRING</span> propertyName, <span class="text-info">STRING</span> propertyValue)</code></li>
</ul>
</li>
<li>Default Instance: This method can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.setProperty(<span class="text-info">STRING</span> propertyName, <span class="text-info">STRING</span> propertyValue)</code></li>
</ul>
</li>
</ul>


<h3>showPreview(<span class="text-info">HASH</span> propertyMap)</h3>

<p>Shows the preview in user configurable viewer window.</p>

<h4>Parameters</h4>

<ul><li>propertyMap : <span class='text-info'>HASH</span> <span class='label label-info'>Optional</span><p>Provide a set of properties to configure the camera. Valid `properties` for this parameter are the properties available to this API module. Check the <a href='#api-camera?Properties'>property section</a> for applicable properties. Not providing properties to this function will use the Camera's default properties, or those previously set on the Camera instance.</p></li><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>Void</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Instance Method: This method can be accessed via an instance object of this class:

<ul>
<li><code>myObject.showPreview(<span class="text-info">HASH</span> propertyMap)</code></li>
</ul>
</li>
<li>Default Instance: This method can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.showPreview(<span class="text-info">HASH</span> propertyMap)</code></li>
</ul>
</li>
</ul>


<h3>takePicture(<span class="text-info">HASH</span> propertyMap)</h3>

<p>Start the camera application to take a picture. The user can capture the displayed image by interacting with the resident camera app. In Windows, this method always shows the preview in full screen and user can use the native button to capture the image.</p>

<pre><code>            On wp8,wm when 'outputFormat' is 'image' then imageUri/image_uri shall have only Image name with \ sign, on WP8 ImageName shall be suffixed by DTF when 'outputFormat' is 'image'
</pre>

<blockquote><p>Note: To display an image, it is recommended that you use the full path to the image instead of a relative path. To do this, you can use the <a href="Application#mexpandDatabaseBlobFilePath"><code>expandDatabaseBlobFilePath</code></a> method of the <a href="Application">Application module</a> as such:</p></blockquote>

<h5>Ruby</h5>

<pre name="code" class="ruby">Rho::RhoApplication.expandDatabaseBlobFilePath(x.image_uri)
</pre>

<h5>JavaScript</h5>

<pre name="code" class="js">Rho.RhoApplication.expandDatabaseBlobFilePath(x.image_uri)
</pre>

<h4>Parameters</h4>

<ul><li>propertyMap : <span class='text-info'>HASH</span> <span class='label label-info'>Optional</span><p>Provide a set of properties to configure the camera, for example to specify the flashMode or compressionFormat. Valid `properties` for this parameter are the properties available to this API module. Check the <a href='#api-camera?Properties'>property section</a> for applicable properties. Not providing properties to this function will use the Camera's default properties, or those previously set on the Camera instance.</p></li><li>callback : <span class='text-info'>CallBackHandler</span></li></ul>


<h4>Callback</h4>

<p>Async Callback Returning Parameters: <span class='text-info'>HASH</span></p><ul><ul><li>status : <span class='text-info'>STRING</span><p>Whether or not the image was successfully captured. The returned string will be one of &lsquo;ok&rsquo;, &lsquo;cancel&rsquo; or &lsquo;error&rsquo;. Platforms:
Android, WM, CE </p></li><li>imageUri : <span class='text-info'>STRING</span><p>If the specified &lsquo;outputFormat&rsquo; was &lsquo;image&rsquo; then this field is the URI to the taken image stored on the device. If the specified &lsquo;outputFormat&rsquo; was &lsquo;dataUri&rsquo; then this field will be the image encoded as a Data URI, If the specified &lsquo;outputFormat&rsquo; was &lsquo;imagePath&rsquo; then this field will have the image path on the device. User can use image path to transfer image over http. Platforms:
Android, WM, CE </p></li><li>imageHeight : <span class='text-info'>INTEGER</span><p>The actual height of the image that was captured, this may differ from the requested height as the Camera will only support a finite resolutions. Platforms:
Android, WM, CE </p></li><li>imageWidth : <span class='text-info'>INTEGER</span><p>The actual width of the image that was captured, this may differ from the requested width as the Camera will only support a finite resolutions. Platforms:
Android, WM, CE </p></li><li>imageFormat : <span class='text-info'>STRING</span><p>The format in which the image was captured, either &lsquo;png&rsquo; or &lsquo;jpg&rsquo;. Platforms:
Android, WM, CE </p></li><li>message : <span class='text-info'>STRING</span><p>If the returned status is &lsquo;error&rsquo; then this field will contain more information on the error. To maintain backward compatibility WM and Android platforms provides message for cancel status as well. Platforms:
Android, WM, CE </p></li><li>image_uri : <span class='text-info'>STRING</span><p>If the specified &lsquo;outputFormat&rsquo; was &lsquo;image&rsquo; then this field is the URI to the taken image stored on the device. If the specified &lsquo;outputFormat&rsquo; was &lsquo;dataUri&rsquo; then this field will be the image encoded as a Data URI, If the specified &lsquo;outputFormat&rsquo; was &lsquo;imagePath&rsquo; then this field will have the image path on the device. User can use image path to transfer image over http. Platforms:
Android, WM, CE </p></li><li>image_height : <span class='text-info'>INTEGER</span><p>It is recommended to use imageHeight in preference to this parameter. Platforms:
Android, WM, CE </p></li><li>image_width : <span class='text-info'>INTEGER</span><p>It is recommended to use imageWidth in preference to this parameter. Platforms:
Android, WM, CE </p></li><li>image_format : <span class='text-info'>STRING</span><p>It is recommended to use imageFormat in preference to this parameter. Platforms:
Android, WM, CE </p></li></ul></ul></p>

<h4>Returns</h4>

<p>Synchronous Return:</p>

<ul>
<li>Void</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h4>Method Access:</h4>

<ul>
<li>Instance Method: This method can be accessed via an instance object of this class:

<ul>
<li><code>myObject.takePicture(<span class="text-info">HASH</span> propertyMap)</code></li>
</ul>
</li>
<li>Default Instance: This method can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.takePicture(<span class="text-info">HASH</span> propertyMap)</code></li>
</ul>
</li>
</ul>


<h2>Properties</h2>

<h3>aimMode</h3>

<h4>Type</h4>

<p><span class='text-info'>STRING</span></p>

<h4>Description</h4>

<p>Specifies the aim behaviour when taking a picture. Applicable only for imager module.</p>

<pre><code>            This Property shall accept/return one among the values mentioned in constant section which starts with AIM_...
</pre>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.aimMode</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.aimMode</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3><span class="text-info">cameraType</span></h3>

<h4>Type</h4>

<p><span class='text-info'>STRING</span> <span class='label label-warning'>Read Only</span></p>

<h4>Description</h4>

<p><span class='label label-info'>Replaces:camera_type</span> This property is device specific. The value for this property can be either &lsquo;back&rsquo; or &lsquo;front&rsquo; in the case of Android devices.In the case of windows it could be either &lsquo;imager&rsquo; or &lsquo;color&rsquo;. WM/CE devices will use &lsquo;color'as default and if color camera not available the default value will be 'imager&rsquo;. Android devices will use &lsquo;back'as default and if back camera not available the default value will be 'front&rsquo;.</p>

<pre><code>            This Property shall return one among the values mentioned in constant section which starts with CAMERA_TYPE_...
</pre>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.cameraType</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.cameraType</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3>captureSound</h3>

<h4>Type</h4>

<p><span class='text-info'>STRING</span></p>

<h4>Description</h4>

<p>Path to a sound file resident on the device which will be played when the image is captured.</p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.captureSound</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.captureSound</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3><span class="text-info">colorModel</span></h3>

<h4>Type</h4>

<p><span class='text-info'>STRING</span></p>

<h4>Description</h4>

<p><span class='label label-info'>Replaces:color_model</span> Where supported by the hardware this property can be used to select whether to capture a color or a grayscale image.</p>

<pre><code>            This Property shall accept/return one among the values mentioned in constant section which starts with COLOR_MODEL_...
</pre>

<h4>Params</h4>

<p><strong>Default:</strong> rgb</p>


<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.colorModel</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.colorModel</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
</ul>


<h3><span class="text-info">compressionFormat</span></h3>

<h4>Type</h4>

<p><span class='text-info'>STRING</span></p>

<h4>Description</h4>

<p><span class='label label-info'>Replaces:format</span> The format of the captured image in subsequent calls to takePicture(). On windows devices the format will be always .jpg type.</p>

<pre><code>            This Property shall accept/return one among the values mentioned in constant section which starts with COMPRESSION_FORMAT_...
</pre>

<h4>Params</h4>

<p><strong>Default:</strong> jpg</p>


<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.compressionFormat</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.compressionFormat</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE(JPG is supported on all devices, Android, WP8 and Windows Mobile does not support PNG images)</li>
</ul>


<h3><span class="text-info">desiredHeight</span></h3>

<h4>Type</h4>

<p><span class='text-info'>INTEGER</span></p>

<h4>Description</h4>

<p><span class='label label-info'>Replaces:desired_height</span> Camera hardware is limited to taking photos in a finite number of resolutions, eg 2048x1536, 640x480 etc. Specifying a desiredHeight will request to take the photo with the specified height but if it is not supported by the hardware then the closest match will be selected. The callback received when a photo is taken contains the actual resolution of the captured photo.</p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.desiredHeight</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.desiredHeight</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3><span class="text-info">desiredWidth</span></h3>

<h4>Type</h4>

<p><span class='text-info'>INTEGER</span></p>

<h4>Description</h4>

<p><span class='label label-info'>Replaces:desired_width</span> Camera hardware is limited to taking photos in a finite number of resolutions, eg 2048x1536, 640x480 etc. Specifying a desiredWidth will request to take the photo with the specified width but if it is not supported by the hardware then the closest match will be selected. The callback received when a photo is taken contains the actual resolution of the captured photo.</p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.desiredWidth</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.desiredWidth</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3>fileName</h3>

<h4>Type</h4>

<p><span class='text-info'>STRING</span></p>

<h4>Description</h4>

<p>The image file path without file extension to store captured image in subsequent calls to takePicture() or capture(). Default filename will be IMG_timestamp and will be saved under root directory. The filename extension will be added automatically according to compressionFormat property value.</p>

<pre><code>            In Wp8, only filename can be changed, by default the path shall be under picture=&gt;CameraRoll
</pre>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.fileName</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.fileName</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3><span class="text-info">flashMode</span></h3>

<h4>Type</h4>

<p><span class='text-info'>STRING</span></p>

<h4>Description</h4>

<p><span class='label label-info'>Replaces:flash_mode</span> Specifies the flash behavior when taking a picture.</p>

<pre><code>            This Property shall accept/return one among the values mentioned in constant section which starts with FLASH_...
</pre>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.flashMode</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.flashMode</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3>maxHeight</h3>

<h4>Type</h4>

<p><span class='text-info'>INTEGER</span> <span class='label label-warning'>Read Only</span></p>

<h4>Description</h4>

<p>The maximum height of images which can be captured. This is measured in pixels. On WM/CE devices this is applicable only for color camera. Imager does not support this property.</p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.maxHeight</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.maxHeight</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3>maxWidth</h3>

<h4>Type</h4>

<p><span class='text-info'>INTEGER</span> <span class='label label-warning'>Read Only</span></p>

<h4>Description</h4>

<p>The maximum width of images which can be captured. This is measured in pixels. On WM/CE devices this is applicable only for color camera. Imager does not support this property.</p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.maxWidth</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.maxWidth</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3>outputFormat</h3>

<h4>Type</h4>

<p><span class='text-info'>STRING</span></p>

<h4>Description</h4>

<p>Specifies the way to return the captured image to the application.</p>

<pre><code>            This Property shall accept/return one among the values mentioned in constant section which starts with OUTPUT_FORMAT_...
</pre>

<h4>Params</h4>

<p><strong>Default:</strong> imagePath</p>


<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.outputFormat</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.outputFormat</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3>previewHeight</h3>

<h4>Type</h4>

<p><span class='text-info'>INTEGER</span></p>

<h4>Description</h4>

<p>In cases where the resident camera application on the device is not used this API is used to control the position of the viewfinder preview window when taking a photo.</p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.previewHeight</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.previewHeight</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3><span class="text-info">previewLeft</span></h3>

<h4>Type</h4>

<p><span class='text-info'>INTEGER</span></p>

<h4>Description</h4>

<p><span class='label label-info'>Replaces:left</span> In cases where the resident camera application on the device is not used this API is used to control the position of the viewfinder preview window when taking a photo.</p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.previewLeft</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.previewLeft</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3><span class="text-info">previewTop</span></h3>

<h4>Type</h4>

<p><span class='text-info'>INTEGER</span></p>

<h4>Description</h4>

<p><span class='label label-info'>Replaces:top</span> In cases where the resident camera application on the device is not used this API is used to control the position of the viewfinder preview window when taking a photo.</p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.previewTop</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.previewTop</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3>previewWidth</h3>

<h4>Type</h4>

<p><span class='text-info'>INTEGER</span></p>

<h4>Description</h4>

<p>In cases where the resident camera application on the device is not used this API is used to control the position of the viewfinder preview window when taking a photo.</p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.previewWidth</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.previewWidth</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3><span class="text-info">saveToDeviceGallery</span></h3>

<h4>Type</h4>

<p><span class='text-info'>BOOLEAN</span></p>

<h4>Description</h4>

<p><span class='label label-info'>Replaces:save_to_shared_gallery</span> If true, the picture you take will be added to the device photo gallery.</p>

<h4>Params</h4>

<p><strong>Default:</strong> false</p>


<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.saveToDeviceGallery</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.saveToDeviceGallery</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
</ul>


<h3>supportedSizeList</h3>

<h4>Type</h4>

<p><span class='text-info'>ARRAY</span> <span class='label label-warning'>Read Only</span></p>

<h4>Description</h4>

<p>List of resolutions (width and height in pixels) supported by the camera. On WM/CE devices this feature is supported only by color camera and it is not supported by imager. Refer example section for more details.</p>

<h4>Params</h4>

<p><li><i>Object</i> : <span class='text-info'>HASH</span><p> </p></li><ul><li>width : <span class='text-info'>INTEGER</span><p> </p></li><li>height : <span class='text-info'>INTEGER</span><p> </p></li></ul></p>

<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.supportedSizeList</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.supportedSizeList</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
<li>Windows Mobile</li>
<li>Windows CE</li>
</ul>


<h3>useSystemViewfinder</h3>

<h4>Type</h4>

<p><span class='text-info'>BOOLEAN</span></p>

<h4>Description</h4>

<p>Setting the value of this property to &ldquo;true&rdquo;, shall open the System ViewFinder with its properties. None of the Rho camera properties shall be applicable.</p>

<h4>Params</h4>

<p><strong>Default:</strong> false</p>


<h4>Access</h4>

<ul>
<li>Instance: This property can be accessed via an instance object of this class: <code>myObject.useSystemViewfinder</code></li>
<li>Default Instance: This property can be accessed via the default instance object of this class.

<ul>
<li><code>EB.Camera.useSystemViewfinder</code></li>
</ul>
</li>
</ul>


<h4>Platforms</h4>

<ul>
<li>Android</li>
</ul>


<h2>Constants</h2>

<ul>
<li>CAMERA_TYPE_BACKBack camera. This is not supported in WM/CE devices.</li>
<li>CAMERA_TYPE_FRONTFront camera. This is not supported in WM/CE devices.</li>
<li>CAMERA_TYPE_IMAGERCamera is an imager. This is supported only in WM/CE devices.</li>
<li>CAMERA_TYPE_COLORCamera is color camera. This is supported only in WM/CE devices.</li>
<li>COMPRESSION_FORMAT_JPGJPG compression.</li>
<li>COMPRESSION_FORMAT_PNGPNG compression.</li>
<li>OUTPUT_FORMAT_IMAGEThis shall provide the image uri. This can be used to display image directly on the page. An example is shown in the example section</li>
<li>OUTPUT_FORMAT_DATAURIThis is a base 64 encoding of the image and can be used to easily embed the image on the page or store the image in a database. On some consumer devices, captured image will be rotated 90 degrees while displaying.</li>
<li>OUTPUT_FORMAT_IMAGE_PATHIf this value used for setting the outputFormat property, the takePicture or capture API will return imageUri as the path to the saved image in the device. User can use this image path to transfer the file to an http server if required. An example is given to demonstrate, transferring a file to http server.This property is not applicable for Android and windows phone 8.</li>
<li>COLOR_MODEL_RGBA colour image is captured.</li>
<li>COLOR_MODEL_GRAYSCALEA grayscale image is captured.</li>
<li>FLASH_ONFlash will be used.</li>
<li>FLASH_OFFFlash will not be used.</li>
<li>FLASH_AUTOFlash will be used if lighting conditions deem it necessary. This is not supported in WM/CE devices.</li>
<li>FLASH_RED_EYEFlash with red eye reduction is used. This is supported only in Android devices.</li>
<li>FLASH_TORCHThe flash is turned on in torch mode. This is supported only in Android devices.</li>
<li>AIM_ONSwitches the imager&rsquo;s aim to ON</li>
<li>AIM_OFFSwitches the imager&rsquo;s aim to OFF</li>
</ul>


<h2>Remarks</h2>

<h3>SD Card Access</h3>

<p>SD Card access is enabled by default; grants of additional access will be ignored. The following extensions are able to write to the SD card by default.</p>

<h3>Camera Preview</h3>

<p>Despite a user-selected full screen mode, preview rendering size will be overridden by the driver on some WM/CE devices.</p>

<h3>DataUri</h3>

<p>DataUri output is dependent on availability of virtual space. DataUri may fail, be unresponsive, cause reboot, degraded performance or fail to load in certain devices. In such cases, image path is recommended.</p>

<h3>ImageUri</h3>

<p>Image Uri display is dependent on browser capability.</p>

<h3>GetSupportedProperties in WP8</h3>

<p>WP8 does not support getSupportedProperties or SetSupportedProperties.</p>

<h3>colorModel as Grayscale in Android</h3>

<p>Grayscale is supported only in the front camera of Android consumer devices.</p>

<h3>Invalid/Null values for properties in Android and iOS</h3>

<p>Only valid and non-empty values for properties are supported in Android and iOS.</p>

<h3>Ruby Support</h3>

<p>Due to platform limitations, imager and color camera are not supported in ruby applications for CE5 and CE6 devices.</p>

<h3>Camera in Suspend mode</h3>

<p>All WM and CE7 devices automatically turn off both color and imager cameras when the device is suspended. User must restart the camera to resume. Whereas CE5 (eg: MC9000) and CE6 (eg: MC31) devices retain the preview on resuming from suspend state.</p>

<h3>Image saving after taking picture</h3>

<p>In some devices (eg: Samsung), an image will be saved in landscape mode even if captured in portrait mode. This behavior is determined by the device&rsquo;s default settings.</p>

<h3>WM/CE devices lacking support</h3>

<p>Due to platform limitations, the ES400, MC65 and MC67 do not support the color camera.</p>

<h3>takePicture resolution issue on low-memory devices with WM</h3>

<p>Due to platform limitations, the ES400, MC65 and MC67 do not support a color camera. The imager on the MC55 with WM does not support the Fullscreen window (eg: takePicture). Parameters such as previewLeft, previewWidth, previewTop and previewHeight are supported by the device to set up a user-defined viewer window.</p>

<h3>takePicture resolution issue on low-memory devices with WM</h3>

<p>Processor limitations of some devices may cause a low-resolution image captures to appear as a small preview with a black background when transitioning back to the application.</p>

<h3>Android KitKat gallery displays black image</h3>

<p>For images captured with the camera using a Rho app, the image might initially appear black. Refresh the view to correct the problem.</p>

<h3>Android preview</h3>

<p>High-resolution settings are not recommended for low-memory devices. Image previews on tablet devices might appear stretched or shrunken.</p>
